<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<title>Diff result</title>
<style type="text/css">
body { width: 100%; font-size: 10pt; }
h1 { font-size: 125%; }
div.content { font-family: Verdana, "DejaVu Sans Condensed", "Liberation Sans","Nimbus Sans L", Helvetica, sans-serif; margin : 1em auto; width: 100%; }
div.left { float: left; width: 48%; padding: 1em; }
div.right { float: right; width: 48%; padding: 1em; }
div.code { font-family: "Liberation Mono", "Courrier New", monospace; border:1px solid black;}
div.clear { clear: both; }
span.del { background-color : red; font-weight: normal; font-style: normal;}
span.add { background-color : lightgreen; font-weight: bold; font-style: normal;}
span.upd { background-color : orange; font-weight: bold; font-style: italic;}
span.id { background-color : white; font-weight: normal; font-style: normal;}
span.mv { background-color : yellow; font-weight: normal; font-style: normal;}
</style></head><body><div class="content"><div class="left">
<h1>left_SegmentCharSequence_1.1.java</h1>
<div class="code">
<div class="id">
/*<br/>
 * SegmentCharSequence.java<br/>
 * :noTabs=false:<br/>
 *<br/>
 * Copyright (C) 2006 Marcelo Vanzin<br/>
 *<br/>
 * This library is free software; you can redistribute it and/or modify<br/>
 * it under the terms of the GNU Library General Public License as published<br/>
 * by the Free Software Foundation; either version 2 of the License, or<br/>
 * (at your option) any later version.<br/>
 *<br/>
 * This library is distributed in the hope that it will be useful,<br/>
 * but WITHOUT ANY WARRANTY; without even the implied warranty of<br/>
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br/>
 * GNU Library General Public License for more details.<br/>
 *<br/>
 * You should have received a copy of the GNU Library General Public License<br/>
 * along with this program; if not, write to the Free Software<br/>
 * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.<br/>
 */<br/>
package org.gjt.sp.util;<br/>
<br/>
import java.io.Serializable;<br/>
import javax.swing.text.Segment;<br/>
<br/>
/**<br/>
 * Class that lets java.util.regex search within a javax.swing.text.Segment.<br/>
 *<br/>
 * @author Marcelo Vanzin<br/>
 */<br/>
public class SegmentCharSequence implements CharSequence, Serializable<br/>
{<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public SegmentCharSequence(Segment seg)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this(seg, false);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public SegmentCharSequence(Segment seg, boolean reverse)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this(seg, 0, seg.count);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.reverse = reverse;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public SegmentCharSequence(Segment seg, int off, int len)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.offset = off;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.length = len;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.seg = seg;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public char charAt(int index)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (reverse)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index = <span class="del">-<span class="mv">index</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return seg.array[seg.offset + offset + index];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public int length()<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return length;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public CharSequence subSequence(int start, int end)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (reverse)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw new IllegalStateException("reverse sub-sequences are not supported");<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return new SegmentCharSequence(seg, offset + start, end - start);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public String toString()<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return new String(seg.array, offset+seg.offset, length);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;private boolean reverse;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;private int &nbsp;&nbsp;&nbsp;&nbsp;offset;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;private int &nbsp;&nbsp;&nbsp;&nbsp;length;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;private Segment seg;<br/>
<br/>
}<br/>
<br/>
</div>
</div>
</div>
<div class="right">
<h1>right_SegmentCharSequence_1.2.java</h1>
<div class="code">
<div class="id">
/*<br/>
 * SegmentCharSequence.java<br/>
 * :noTabs=false:<br/>
 *<br/>
 * Copyright (C) 2006 Marcelo Vanzin<br/>
 *<br/>
 * This library is free software; you can redistribute it and/or modify<br/>
 * it under the terms of the GNU Library General Public License as published<br/>
 * by the Free Software Foundation; either version 2 of the License, or<br/>
 * (at your option) any later version.<br/>
 *<br/>
 * This library is distributed in the hope that it will be useful,<br/>
 * but WITHOUT ANY WARRANTY; without even the implied warranty of<br/>
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br/>
 * GNU Library General Public License for more details.<br/>
 *<br/>
 * You should have received a copy of the GNU Library General Public License<br/>
 * along with this program; if not, write to the Free Software<br/>
 * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.<br/>
 */<br/>
package org.gjt.sp.util;<br/>
<br/>
import java.io.Serializable;<br/>
import javax.swing.text.Segment;<br/>
<br/>
/**<br/>
 * Class that lets java.util.regex search within a javax.swing.text.Segment.<br/>
 *<br/>
 * @author Marcelo Vanzin<br/>
 */<br/>
public class SegmentCharSequence implements CharSequence, Serializable<br/>
{<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public SegmentCharSequence(Segment seg)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this(seg, false);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public SegmentCharSequence(Segment seg, boolean reverse)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this(seg, 0, seg.count);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.reverse = reverse;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public SegmentCharSequence(Segment seg, int off, int len)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.offset = off;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.length = len;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.seg = seg;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public char charAt(int index)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (reverse)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index = <span class="add"><span class="add">length</span> - <span class="mv">index</span> - <span class="add">1</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return seg.array[seg.offset + offset + index];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public int length()<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return length;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public CharSequence subSequence(int start, int end)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (reverse)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw new IllegalStateException("reverse sub-sequences are not supported");<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return new SegmentCharSequence(seg, offset + start, end - start);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;public String toString()<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return new String(seg.array, offset+seg.offset, length);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;private boolean reverse;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;private int &nbsp;&nbsp;&nbsp;&nbsp;offset;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;private int &nbsp;&nbsp;&nbsp;&nbsp;length;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;private Segment seg;<br/>
<br/>
}<br/>
<br/>
</div>
</div>
</div>
<div class="clear"></div>
</div>
</body>
</html>